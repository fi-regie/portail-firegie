<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail de S√©curit√© du Spectacle Vivant (ERP Type L)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>

body {
            font-family: 'Inter', sans-serif;
            background-color: #fafaf9 !important;
            color: var(--color-primary);
            scroll-behavior: auto !important;
        }
 
        /* Custom Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Mobile base height */
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px; /* Tablet/Desktop height */
            }
        }

        /* Hide scrollbar for clean horizontal scrolling if needed */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Animation for fade in */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Safety Accents -->
    <!-- Palette Name: "Architectural Safety" -->
    <!-- Background: Stone-50 (#fafaf9) -->
    <!-- Surface: White (#ffffff) -->
    <!-- Primary Text: Stone-800 (#292524) -->
    <!-- Secondary Text: Stone-500 (#78716c) -->
    <!-- Accent 1 (Safety/Alert): Orange-600 (#ea580c) -->
    <!-- Accent 2 (Compliance/Go): Emerald-600 (#059669) -->
    <!-- Accent 3 (Structure): Slate-700 (#334155) -->

    <!-- Application Structure Plan:
         The application is designed as an interactive "Safety Manager's Dashboard" rather than a linear document.
         1. Header: Context setting (ERP Type L).
         2. Section 1 "Calculateur de Cat√©gorie": Interactive tool where users input audience size (Jauge) to learn about ERP categories (1-5) dynamically. Uses a Bar Chart to visualize thresholds.
         3. Section 2 "D√©gagements & Unit√©s de Passage": Teaches evacuation rules (Unit√©s de Passage) via a slider input that calculates required exit widths, visualized with a Line Chart.
         4. Section 3 "S√©curit√© Chapiteaux (CTS) & M√©t√©o": Simulateur m√©t√©o et checklist pour chapiteaux.
         5. Section 4 "Mat√©riaux & R√©action au Feu": Explores Fire Reaction ratings (M0-M4) using interactive cards and a Doughnut Chart showing the "Safety Composition" of a venue.
         6. Section 5 "Protocole & Personnel": A grid layout clarifying roles (SSIAP, R√©gisseur) and documents (Registre, Plans) using the flashcard content as key data points.
         Rationale: This structure transforms static flashcard definitions into active tasks (calculating, selecting, simulating), improving retention and engagement.
    -->

    <!-- Visualization & Content Choices:
         1. Categorization (Bar Chart): Goal -> Compare. Visualizes the steep step-changes in regulations at specific capacity thresholds (300, 700, 1500). Interaction: Highlights current category based on input.
         2. Evacuation (Line Chart): Goal -> Change/Relationship. Demonstrates the linear relationship between crowd size and required exit width. Interaction: Slider updates the point on the line.
         3. Chapiteaux (Wind Chart): Goal -> Safety/Decision. Shows wind speed thresholds and helps make safety decisions.
         4. Materials (Doughnut Chart): Goal -> Inform/Proportion. Shows the ideal ratio of materials in a safe venue (mostly M0/M1). Interaction: Clicking segments reveals definitions.
         5. Role Cards (Grid/HTML): Goal -> Organize. Grouping responsibilities (Human vs. Administrative) for clarity.
         NO SVG/Mermaid: All icons are Unicode. All Charts are Chart.js Canvas.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased selection:bg-orange-200 selection:text-orange-900">

    <!-- Navigation / Header -->
    <nav class="bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2"></span>
                    <h1 class="text-xl font-bold tracking-tight text-slate-700">Simulateur S√©curit√© <span class="text-orange-600 text-sm font-normal uppercase ml-2 tracking-widest">ERP Type L</span></h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="hidden md:inline-block text-sm text-stone-500">Conforme Arr√™t√© du 25 juin 1980</span>
                    <div class="h-3 w-3 rounded-full bg-emerald-500 animate-pulse" title="Syst√®me Actif"></div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">

        <!-- Introduction -->
        <div class="bg-white rounded-xl shadow-sm border border-stone-100 p-6 md:p-8">
            <h2 class="text-2xl font-semibold mb-4 text-slate-700">Cadre R√©glementaire</h2>
            <p class="text-stone-600 leading-relaxed mb-4">
                La s√©curit√© dans le spectacle vivant repose sur une r√©glementation stricte d√©finie par le Code de la Construction et de l'Habitation (CCH). 
                Les lieux de spectacles sont class√©s comme <strong>ERP (√âtablissements Recevant du Public)</strong> de <strong>Type L</strong>. 
                Ce tableau de bord interactif vous permet d'explorer les piliers de cette s√©curit√© : la classification des salles, les calculs d'√©vacuation, la s√©curit√© des chapiteaux, la r√©action au feu des mat√©riaux et l'organisation humaine.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                <div class="bg-stone-50 p-4 rounded-lg border-l-4 border-orange-500">
                    <span class="block text-xs font-bold text-stone-400 uppercase tracking-wider mb-1">Priorit√© 1</span>
                    <span class="font-medium">S√©curit√© des Personnes</span>
                </div>
                <div class="bg-stone-50 p-4 rounded-lg border-l-4 border-slate-600">
                    <span class="block text-xs font-bold text-stone-400 uppercase tracking-wider mb-1">Priorit√© 2</span>
                    <span class="font-medium">Lutte contre l'Incendie</span>
                </div>
                <div class="bg-stone-50 p-4 rounded-lg border-l-4 border-emerald-500">
                    <span class="block text-xs font-bold text-stone-400 uppercase tracking-wider mb-1">Priorit√© 3</span>
                    <span class="font-medium">√âvacuation Rapide</span>
                </div>
            </div>
        </div>

        <!-- Section 1: Classification Calculator -->
        <section id="classification" class="scroll-mt-20">
            <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800 flex items-center">
                    <span class="bg-slate-800 text-white rounded-md w-8 h-8 flex items-center justify-center mr-3 text-sm">1</span>
                    Classification & Jauge
                </h3>
                <p class="text-stone-600 mt-2 max-w-3xl">
                    La cat√©gorie de votre √©tablissement d√©termine la s√©v√©rit√© des r√®gles (pr√©sence SSIAP, visites de commission, etc.). 
                    Elle est calcul√©e selon l'<strong>effectif total</strong> (public + personnel non indispensable).
                    Entrez une jauge ci-dessous pour voir o√π se situe votre √©tablissement.
                </p>
            </div>

            <!-- SECTION A: CLASSIFICATION CALCULATOR -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Calculator Input -->
                <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-orange-500">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-stone-900">1. Calculateur de Cat√©gorie ERP</h3>
                        <span class="text-2xl"></span>
                    </div>
                    <p class="text-sm text-stone-500 mb-6">
                        La r√©glementation applicable d√©pend de l'effectif total (public + personnel non indispensable).
                        Entrez votre jauge pour d√©terminer vos obligations.
                    </p>
                    
                    <div class="space-y-4">
                        <div>
                            <label for="capacityInput" class="block text-sm font-medium text-stone-700">Effectif Total (Personnes)</label>
                            <input type="number" id="capacityInput" placeholder="Ex: 350" class="mt-1 block w-full rounded-md border-stone-300 bg-stone-50 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-lg p-2 border">
                        </div>
                        <button id="calcBtn" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-stone-900 hover:bg-stone-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-stone-500">
                            Analyser la R√©glementation
                        </button>
                    </div>

                    <!-- Result Output -->
                    <div id="erpResult" class="hidden mt-6 bg-orange-50 border border-orange-100 rounded-lg p-4">
                        <h4 class="font-bold text-orange-900 text-lg mb-2">R√©sultat : <span id="resCat">...</span></h4>
                        <ul class="text-sm text-orange-800 space-y-2 list-disc list-inside">
                            <li><strong>Type :</strong> <span id="resType">L (Salle de spectacle)</span></li>
                            <li><strong>Obligation S√©curit√© :</strong> <span id="resSecu">...</span></li>
                            <li><strong>Contr√¥le :</strong> <span id="resControl">...</span></li>
                        </ul>
                    </div>
                </div>

                <!-- Visualization: Distribution of Venues -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex flex-col">
                    <div class="mb-4">
                        <h3 class="text-lg font-bold text-stone-900">R√©partition Th√©orique des ERP</h3>
                        <p class="text-xs text-stone-500">
                            Visualisation de la proportion des √©tablissements par cat√©gorie pour situer votre structure. 
                            La majorit√© des lieux rel√®vent de la 5√®me cat√©gorie ou des petites jauges.
                        </p>
                    </div>
                    <div class="chart-container flex-grow">
                        <canvas id="erpChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Evacuation Simulator -->
        <section id="evacuation" class="scroll-mt-20">
            <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800 flex items-center">
                    <span class="bg-emerald-600 text-white rounded-md w-8 h-8 flex items-center justify-center mr-3 text-sm">2</span>
                    D√©gagements & Unit√©s de Passage
                </h3>
                <p class="text-stone-600 mt-2 max-w-3xl">
                    Le dimensionnement des sorties (D√©gagements) se fait en <strong>Unit√©s de Passage (UP)</strong>. 
                    <br>R√®gle de base : 1 UP = 0,60 m. Attention, 1 UP seule n√©cessite 0,90 m de large. 2 UP = 1,40 m.
                    Utilisez le curseur pour simuler une foule et voir les besoins en √©vacuation.
                </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Controls -->
                    <div class="lg:col-span-1 space-y-6">
                        <div>
                            <label for="evacSlider" class="block text-sm font-bold text-stone-700 mb-2">Simuler l'affluence : <span id="evacValue" class="text-emerald-600 text-lg">500</span> pers.</label>
                            <input type="range" id="evacSlider" min="0" max="2000" step="50" value="500" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-emerald-600">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-stone-50 p-3 rounded border border-stone-200 text-center">
                                <span class="block text-2xl font-bold text-slate-800" id="upResult">6</span>
                                <span class="text-xs text-stone-500 uppercase">Unit√©s de Passage (UP)</span>
                            </div>
                            <div class="bg-stone-50 p-3 rounded border border-stone-200 text-center">
                                <span class="block text-2xl font-bold text-slate-800" id="widthResult">3.60m</span>
                                <span class="text-xs text-stone-500 uppercase">Largeur Cumul√©e Min.</span>
                            </div>
                        </div>

                        <div class="bg-orange-50 p-4 rounded border-l-4 border-orange-500 text-sm text-orange-900">
                            <strong>R√®gle d'Or :</strong> Les d√©gagements doivent rester libres de tout obstacle et les portes doivent s'ouvrir vers l'ext√©rieur (sens de la fuite).
                        </div>
                    </div>

                    <!-- Line Chart -->
                    <div class="lg:col-span-2">
                        <div class="chart-container">
                            <canvas id="evacChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: S√©curit√© Chapiteaux (CTS) & M√©t√©o -->
        <section id="chapiteaux" class="scroll-mt-20">
            <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800 flex items-center">
                    <span class="bg-blue-600 text-white rounded-md w-8 h-8 flex items-center justify-center mr-3 text-sm">3</span>
                    S√©curit√© Chapiteaux (CTS) & M√©t√©o
                </h3>
                <p class="text-stone-600 mt-2 max-w-3xl">
                    L'exploitation d'un chapiteau est soumise √† l'Arr√™t√© du 23 janvier 1985. Deux facteurs critiques : la solidit√© au vent (neige) et la r√©action au feu.
                    L'exploitant doit tenir un registre de s√©curit√© et surveiller la m√©t√©o en permanence.
                </p>
            </div>

            <!-- VIEW: CTS & METEO -->
            <div class="space-y-8">
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Tool: Wind Calculator -->
                        <div class="bg-slate-50 border border-slate-200 rounded-xl p-6">
                            <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                                <span class="mr-2">üå¨Ô∏è</span> Simulateur de D√©cision M√©t√©o
                            </h3>
                            <div class="space-y-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Vitesse max homologu√©e (Carnet de bord)</label>
                                    <select id="maxWindInput" class="w-full rounded-md border-gray-300 shadow-sm p-2 border bg-white">
                                        <option value="85">85 km/h (Structures l√©g√®res)</option>
                                        <option value="100" selected>100 km/h (Standard)</option>
                                        <option value="120">120 km/h (Renforc√©)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Vitesse du vent actuelle (An√©mom√®tre)</label>
                                    <input type="range" id="currentWindInput" min="0" max="140" value="45" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600">
                                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                                        <span>0 km/h</span>
                                        <span id="currentWindDisplay" class="font-bold text-blue-600 text-base">45 km/h</span>
                                        <span>140 km/h</span>
                                    </div>
                                </div>
                                
                                <!-- Status Indicator -->
                                <div id="weatherStatus" class="bg-green-100 border border-green-200 p-4 rounded-lg flex items-start gap-3 transition-colors duration-300">
                                    <div id="weatherIcon" class="text-2xl">‚úÖ</div>
                                    <div>
                                        <h4 id="weatherTitle" class="font-bold text-green-800">Situation Normale</h4>
                                        <p id="weatherDesc" class="text-sm text-green-700">Exploitation autoris√©e. Continuez la veille m√©t√©orologique.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Data: Wind Chart -->
                        <div class="bg-white rounded-xl">
                            <h3 class="text-lg font-bold text-gray-900 mb-4">√âchelle de Beaufort & Risques</h3>
                            <div class="chart-container">
                                <canvas id="windChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Checklist -->
                    <div class="mt-8">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Points de Contr√¥le Obligatoires (Matin & Soir)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                                <input type="checkbox" class="mt-1 mr-3 h-4 w-4 text-red-600 rounded border-gray-300">
                                <div>
                                    <span class="font-medium text-gray-900">Ancrages et Haubanage</span>
                                    <p class="text-xs text-gray-500">V√©rifier la tension des sangles (cliquets) et la tenue des pieux (pas de soul√®vement de terre).</p>
                                </div>
                            </div>
                            <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                                <input type="checkbox" class="mt-1 mr-3 h-4 w-4 text-red-600 rounded border-gray-300">
                                <div>
                                    <span class="font-medium text-gray-900">Issue de Secours</span>
                                    <p class="text-xs text-gray-500">D√©verrouill√©es, d√©gag√©es de tout obstacle, √©clairage de s√©curit√© fonctionnel.</p>
                                </div>
                            </div>
                            <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                                <input type="checkbox" class="mt-1 mr-3 h-4 w-4 text-red-600 rounded border-gray-300">
                                <div>
                                    <span class="font-medium text-gray-900">Extincteurs</span>
                                    <p class="text-xs text-gray-500">En place, plomb√©s, v√©rifi√©s annuellement. Acc√®s non bloqu√© par des d√©cors.</p>
                                </div>
                            </div>
                            <div class="flex items-start p-3 bg-gray-50 rounded-lg">
                                <input type="checkbox" class="mt-1 mr-3 h-4 w-4 text-red-600 rounded border-gray-300">
                                <div>
                                    <span class="font-medium text-gray-900">Installations √âlectriques</span>
                                    <p class="text-xs text-gray-500">Coffrets ferm√©s √† cl√©, c√¢bles prot√©g√©s des passages (passages de c√¢bles).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Materials & Fire Reaction -->
        <section id="materials" class="scroll-mt-20">
            <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800 flex items-center">
                    <span class="bg-orange-600 text-white rounded-md w-8 h-8 flex items-center justify-center mr-3 text-sm">4</span>
                    Mat√©riaux & R√©action au Feu
                </h3>
                <p class="text-stone-600 mt-2 max-w-3xl">
                    L'objectif est de limiter la masse combustible. Les mat√©riaux sont class√©s de <strong>M0 (Incombustible)</strong> √† <strong>M4 (Facilement Inflammable)</strong>.
                    L'<strong>Ignifugation</strong> permet d'am√©liorer ce classement. Cliquez sur les segments du graphique pour voir les d√©tails.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- Visual Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                    <div class="chart-container">
                        <canvas id="materialsChart"></canvas>
                    </div>
                    <div class="mt-4 flex justify-center space-x-4 text-xs">
                        <span class="flex items-center"><span class="w-3 h-3 bg-stone-400 rounded-full mr-1"></span> M0 Structure</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-emerald-500 rounded-full mr-1"></span> M1 D√©cors</span>
                        <span class="flex items-center"><span class="w-3 h-3 bg-orange-500 rounded-full mr-1"></span> M2/M3 Mobilier</span>
                    </div>
                </div>

                <!-- Contextual Details (Dynamic) -->
                <div class="space-y-4">
                    <div id="m0-card" class="material-card p-4 rounded-lg border-l-4 border-stone-400 bg-white shadow-sm hover:shadow-md transition cursor-pointer" onclick="highlightMaterial(0)">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-stone-800">Classement M0</h4>
                            <span class="text-xs bg-stone-100 px-2 py-1 rounded text-stone-600">Incombustible</span>
                        </div>
                        <p class="text-sm text-stone-600 mt-2">Pierre, brique, ciment, verre, m√©tal. Utilis√© pour les structures porteuses.</p>
                    </div>

                    <div id="m1-card" class="material-card p-4 rounded-lg border-l-4 border-emerald-500 bg-emerald-50 shadow-sm hover:shadow-md transition cursor-pointer ring-2 ring-emerald-500" onclick="highlightMaterial(1)">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-emerald-900">Classement M1</h4>
                            <span class="text-xs bg-emerald-100 px-2 py-1 rounded text-emerald-700">Non Inflammable</span>
                        </div>
                        <p class="text-sm text-emerald-800 mt-2">Combustible mais ne propage pas le feu. <strong>Obligatoire</strong> pour les d√©cors, rideaux, v√©lums et pendrillons.</p>
                    </div>

                    <div id="m2-card" class="material-card p-4 rounded-lg border-l-4 border-orange-500 bg-white shadow-sm hover:shadow-md transition cursor-pointer" onclick="highlightMaterial(2)">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-stone-800">Classement M2</h4>
                            <span class="text-xs bg-orange-100 px-2 py-1 rounded text-orange-700">Difficilement Inflammable</span>
                        </div>
                        <p class="text-sm text-stone-600 mt-2">Autoris√© pour certains si√®ges capitonn√©s ou rev√™tements de sol. N√©cessite souvent ignifugation.</p>
                    </div>
                    
                     <div id="m4-card" class="material-card p-4 rounded-lg border-l-4 border-red-500 bg-white shadow-sm hover:shadow-md transition cursor-pointer" onclick="highlightMaterial(3)">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-stone-800">Classement M3 / M4</h4>
                            <span class="text-xs bg-red-100 px-2 py-1 rounded text-red-700">Interdit / Risque</span>
                        </div>
                        <p class="text-sm text-stone-600 mt-2">Moyennement √† Facilement inflammable. G√©n√©ralement interdits dans les zones accessibles au public.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Human Organization & Definitions -->
        <section id="personnel" class="scroll-mt-20">
            <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800 flex items-center">
                    <span class="bg-slate-600 text-white rounded-md w-8 h-8 flex items-center justify-center mr-3 text-sm">5</span>
                    Personnel & Protocoles
                </h3>
                <p class="text-stone-600 mt-2">
                    La s√©curit√© repose avant tout sur les hommes et les proc√©dures. Voici les acteurs et documents cl√©s identifi√©s dans le rapport source.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Card: SSIAP -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-slate-800 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3"></span>
                        <h4 class="font-bold text-slate-800">SSIAP</h4>
                    </div>
                    <p class="text-sm text-stone-600 mb-2">Service de S√©curit√© Incendie et d'Assistance √† Personnes.</p>
                    <ul class="text-xs text-stone-500 list-disc list-inside">
                        <li>Pr√©sence obligatoire selon cat√©gorie</li>
                        <li>Rondes, alertes, √©vacuation</li>
                        <li>Formations dipl√¥mantes (1, 2, 3)</li>
                    </ul>
                </div>

                <!-- Card: Registre -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-slate-800 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3"></span>
                        <h4 class="font-bold text-slate-800">Registre de S√©curit√©</h4>
                    </div>
                    <p class="text-sm text-stone-600 mb-2">La "m√©moire" de s√©curit√© du b√¢timent.</p>
                    <ul class="text-xs text-stone-500 list-disc list-inside">
                        <li>Dates des contr√¥les techniques</li>
                        <li>Composition du personnel</li>
                        <li>Consignes d'√©vacuation</li>
                        <li>Consultable par la Commission</li>
                    </ul>
                </div>

                <!-- Card: Commission -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-slate-800 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3">‚öñÔ∏è</span>
                        <h4 class="font-bold text-slate-800">Commission de S√©curit√©</h4>
                    </div>
                    <p class="text-sm text-stone-600 mb-2">Organisme consultatif d'√âtat.</p>
                    <ul class="text-xs text-stone-500 list-disc list-inside">
                        <li>Valide l'ouverture avant public</li>
                        <li>Visites p√©riodiques (3 √† 5 ans)</li>
                        <li>V√©rifie accessibilit√© et incendie</li>
                    </ul>
                </div>

                <!-- Card: Plans -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-orange-500 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3"></span>
                        <h4 class="font-bold text-slate-800">Plans (Intervention vs √âvacuation)</h4>
                    </div>
                    <div class="space-y-2">
                        <p class="text-xs bg-stone-50 p-2 rounded"><strong class="text-slate-700">Intervention :</strong> Pour les Pompiers (coupures fluides, acc√®s).</p>
                        <p class="text-xs bg-stone-50 p-2 rounded"><strong class="text-slate-700">√âvacuation :</strong> Pour le Public (itin√©raires, point de rassemblement).</p>
                    </div>
                </div>

                <!-- Card: Rideau de Fer -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-orange-500 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3"></span>
                        <h4 class="font-bold text-slate-800">Rideau de Fer</h4>
                    </div>
                    <p class="text-sm text-stone-600 mb-2">Dispositif d'obturation de la baie de sc√®ne.</p>
                    <p class="text-xs text-stone-500">Isole la cage de sc√®ne (risque √©lev√©) de la salle (public) pour permettre l'√©vacuation sans fum√©e.</p>
                </div>

                <!-- Card: BAES -->
                <div class="bg-white rounded-lg p-5 shadow-sm border-t-4 border-emerald-500 hover:shadow-md transition">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-3"></span>
                        <h4 class="font-bold text-slate-800">BAES</h4>
                    </div>
                    <p class="text-sm text-stone-600 mb-2">Bloc Autonome d'√âclairage de S√©curit√©.</p>
                    <ul class="text-xs text-stone-500 list-disc list-inside">
                        <li>Balisage (vers sorties)</li>
                        <li>Ambiance (anti-panique)</li>
                        <li>Fonctionne sur batterie</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <!-- Pied de page -->

    <footer class="bg-[#e9ecef] text-[#495057] py-8 mt-12 border-t border-[#dee2e6]">
        <div class="max-w-8xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>

                <!-- Section 1 -->
                    <h4 class="text-xl mb-4 text-[#343a40]">Portail de veille juridique ERP & CTS</h4>
                    <p class="text-[#6c757d] text-sm mb-2">
                        Suite d'Applications destin√©es aux
                        R√©gisseurs, Exploitants & Organismes de Formation
                    </p>

                    <p class="text-[#495057] text-sm font-medium mb-2 mt-4">
                        L'Application ne se substitue pas :
                    </p>
                    <ul class="text-[#6c757d] text-sm space-y-1 mb-4">
                        <li>‚Ä¢ Aux textes officiels publi√©s</li>
                        <li>‚Ä¢ √Ä l'avis d'experts certifi√©s</li>
                        <li>‚Ä¢ Aux commissions de s√©curit√© comp√©tentes</li>
                        <li>‚Ä¢ √Ä la jurisprudence en vigueur</li>
                    </ul>
                    
                    <p class="text-[#6c757d] text-sm">
                        <small>Mise √† jour : 24 d√©cembre 2025</small>
                    </p>
                </div>

                <!-- Section 2 -->
                <div class="md:border- md:border-[] md:pl-8">
                    <h4 class="text-xl mb-4 text-[#343a40]">Applications</h4>

                    <div class="space-y-4">
                        <a href="https://fi-regie.github.io/Portail-Securite-CTS-ERP-Type-L/#accueil" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5 class="text-[0.95rem] font-medium">Portail de veille juridique ERP & CTS</h5>                                <p class="text-sm text-[#6c757d] mt-1">
                                    Suite d'Applications destin√©e aux
                                    R√©gisseurs, Exploitants & Organismes de Formation
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/Reglementation-Spectacle-Itinerant/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5>R√©glementation Spectacle Itin√©rant</h5>
                                <p class="text-sm text-[#6c757d] mt-1">
                                    Outils de veille juridique & de s√©curit√© du Spectacle Itin√©rant
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/Simulateur-Reglement-Securite-ERP/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5 class="text-[0.95rem] font-medium">Outil de Simulation S√©curit√©</h5>
                                <p class="text-sm text-[#6c757d] mt-1">
                                    Simulez votre Cat√©gorie ERP, vos d√©gagements UP, √âch. de Beaufort
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/reglementation-CTS-/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5>R√©glementation ERP</h5>
                                <p class="text-sm text-[#6c757d] mt-1">
                                    Application interactive des textes officiels pour consulter rapidement la
                                    R√®glementation ERP (CCH, Arr√™t√© du 25 juin 1980)
                                </p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Section 3 -->
                <div class="md:border- md:border-[] md:pl-8">
                    <h4 class="text-xl mb-4 text-[#343a40]">Formation</h4>
                    <div class="space-y-4">
                        <a href="https://fi-regie.github.io/Focus-Reglementation-ERP/#accuei" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5 class="text-[0.95rem] font-medium">Focus R√©glementation</h5>
                                <p class="text-sm text-[#6c757d] mt-1">
                                    Guide pour comprendre l'architecture de la 
                                    r√©glementation officielle ERP
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/Guide-de-la-Securite-Incendie/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5>Guide de la S√©curit√© Incendie</h5>
                                <p class="text-sm text-[#6c757d] mt-1">
                                    Synth√©se des obligations des recponsables de la s√©curit√© incendie desERP  
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/Formation-Securite-ERP/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5>Formation S√©curit√© ERP</h5>
                                <p class="text-sm text-[#6c757d] mt-1">

                                    Outil p√©dagogique destin√© √† la formation des responsables techniques
                                    d'ERP Type L & CTS.
                                </p>
                            </div>
                        </a>

                        <a href="https://fi-regie.github.io/Quiz-CTS/" target="_blank"
                            class="flex items-start text-[#495057] hover:text-[#0d6efd] transition">
                            <i class="fas fa-external-link-alt mr-2 mt-1"></i>
                            <div>
                                <h5>Le Quiz du R√©gisseur</h5>
                                <p class="text-sm text-[#6c757d] mt-1">

                                    Amusez-vous, apprenez, √©valuez vos comp√©tences
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="mt-8 pt-8 border-t border-[#ced4da] text-center text-sm text-[#6c757d]">
                <p>
                    <i class="fas fa-gavel mr-2"></i>
                    Portail de veille juridique CTS & ERP Type L
                </p>
                <p class="mt-2">
                    ¬©Ô∏èOpen Source ‚Ä¢ Partage & Contribution ‚Ä¢ Contact :
                    philippe.potier-regie@proton.me
                </p>
            </div>
        </div>
    </footer>


    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            capacity: 450,
            materialFocus: 1, // Default M1
            maxWindSpeed: 100,
            currentWindSpeed: 45
        };

        // --- Chart Instances ---
        let erpChartInstance = null;
        let materialsChartInstance = null;
        let evacChartInstance = null;
        let windChartInstance = null;

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initERPChart();
            initMaterialsChart();
            initEvacChart();
            initWindChart();
            
            // Initial calculations
            updateEvacuation(500);
            updateWeatherStatus();

            // Listeners
            document.getElementById('calcBtn').addEventListener('click', calculateERP);
            document.getElementById('capacityInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calculateERP();
                }
            });

            document.getElementById('evacSlider').addEventListener('input', (e) => {
                updateEvacuation(parseInt(e.target.value));
            });

            // CTS Wind listeners
            document.getElementById('maxWindInput').addEventListener('change', updateWeatherStatus);
            document.getElementById('currentWindInput').addEventListener('input', (e) => {
                const windSpeed = parseInt(e.target.value);
                document.getElementById('currentWindDisplay').textContent = windSpeed + ' km/h';
                state.currentWindSpeed = windSpeed;
                updateWeatherStatus();
                updateWindChart();
            });
        });

        // --- Section 1: ERP Classification Logic ---
        function calculateERP() {
            const capacityInput = document.getElementById('capacityInput');
            const capacity = parseInt(capacityInput.value);
            
            if (isNaN(capacity) || capacity < 0) {
                alert("Veuillez entrer un nombre valide pour l'effectif total.");
                capacityInput.focus();
                return;
            }

            let category, security, control;
            
            // D√©termination de la cat√©gorie bas√©e sur les seuils r√©glementaires
            if (capacity > 1500) {
                category = "1√®re Cat√©gorie";
                security = "SSIAP 1, 2 et 3 requis en permanence";
                control = "Visites p√©riodiques rapproch√©es (tous les ans)";
            } else if (capacity > 700) {
                category = "2√®me Cat√©gorie";
                security = "SSIAP selon planning d'occupation";
                control = "Visites p√©riodiques tous les 3 ans";
            } else if (capacity > 300) {
                category = "3√®me Cat√©gorie";
                security = "SSIAP pendant les repr√©sentations";
                control = "Visites p√©riodiques tous les 3-5 ans";
            } else if (capacity > 50) {
                category = "4√®me Cat√©gorie";
                security = "Personnel form√© aux consignes d'√©vacuation";
                control = "Visites p√©riodiques tous les 5 ans";
            } else {
                category = "5√®me Cat√©gorie";
                security = "Consignes de s√©curit√© affich√©es";
                control = "Contr√¥les all√©g√©s sauf signalement";
            }

            // Mise √† jour de l'interface
            document.getElementById('resCat').textContent = category;
            document.getElementById('resSecu').textContent = security;
            document.getElementById('resControl').textContent = control;
            
            // Affichage du r√©sultat
            document.getElementById('erpResult').classList.remove('hidden');

            // Mettre √† jour le graphique avec un point de rep√®re
            highlightERPChart(capacity);
        }

        function initERPChart() {
            const ctx = document.getElementById('erpChart').getContext('2d');
            erpChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Cat 5 (<50)', 'Cat 4 (51-300)', 'Cat 3 (301-700)', 'Cat 2 (701-1500)', 'Cat 1 (>1500)'],
                    datasets: [{
                        data: [40, 35, 15, 7, 3], // Distribution th√©orique
                        backgroundColor: [
                            '#fbbf24', // Jaune pour Cat 5
                            '#f97316', // Orange pour Cat 4
                            '#ea580c', // Orange fonc√© pour Cat 3
                            '#dc2626', // Rouge pour Cat 2
                            '#991b1b'  // Rouge fonc√© pour Cat 1
                        ],
                        borderWidth: 1,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                usePointStyle: true,
                                font: { size: 10 },
                                padding: 15
                            }
                        },
                        title: {
                            display: true,
                            text: 'Distribution par Cat√©gorie',
                            font: { size: 14 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed || 0;
                                    return `${label}: ${value}%`;
                                }
                            }
                        }
                    },
                    cutout: '50%'
                }
            });
        }

        function highlightERPChart(capacity) {
            // D√©terminer l'index de la cat√©gorie pour mettre en √©vidence
            let categoryIndex;
            if (capacity > 1500) categoryIndex = 4;
            else if (capacity > 700) categoryIndex = 3;
            else if (capacity > 300) categoryIndex = 2;
            else if (capacity > 50) categoryIndex = 1;
            else categoryIndex = 0;

            // Cr√©er des couleurs avec celle s√©lectionn√©e plus vive
            const baseColors = [
                '#fbbf24', // Cat 5
                '#f97316', // Cat 4
                '#ea580c', // Cat 3
                '#dc2626', // Cat 2
                '#991b1b'  // Cat 1
            ];

            const highlightedColors = baseColors.map((color, index) => {
                return index === categoryIndex ? color : color + '80'; // 50% d'opacit√© pour les autres
            });

            // Mettre √† jour le graphique
            erpChartInstance.data.datasets[0].backgroundColor = highlightedColors;
            erpChartInstance.update();
        }

        // --- Section 2: Evacuation Logic ---
        function updateEvacuation(val) {
            document.getElementById('evacValue').textContent = val;
            
            // Logic: 
            // <= 500 pers: roughly 1 UP per 100 pers (simplified rule for viz)
            // > 500 pers: +1 UP per 100 pers
            // Note: Strict rules are 1-19: 1 UP, 20-100: 2 UP, etc. 
            // For this simulator, we linearize it to show the trend.
            
            let ups = Math.ceil(val / 100);
            if(ups < 2 && val > 19) ups = 2; // Min 2 exits often required
            
            // 1 UP = 0.60m for calculation mass, but physical widths differ.
            // We'll display the theoretical flow width = UP * 0.60
            let width = (ups * 0.60).toFixed(2);

            document.getElementById('upResult').textContent = ups;
            document.getElementById('widthResult').textContent = width + "m";

            // Update chart point
            // We don't really need to update the dataset every time for a static line, 
            // but we could show a "You are here" point.
            // For simplicity, we just keep the reference line.
        }

        function initEvacChart() {
            const ctx = document.getElementById('evacChart').getContext('2d');
            
            // Generate trend data
            const population = [0, 100, 300, 500, 700, 1000, 1500, 2000];
            const widths = population.map(p => (Math.ceil(p/100) * 0.60));

            evacChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: population,
                    datasets: [{
                        label: 'Largeur requise (m)',
                        data: widths,
                        borderColor: '#059669',
                        backgroundColor: '#05966920',
                        fill: true,
                        tension: 0.1,
                        pointRadius: 4,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#059669'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y.toFixed(2) + ' m√®tres de large';
                                }
                            }
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Public (Personnes)' } },
                        y: { title: { display: true, text: 'Largeur Cumul√©e (m)' } }
                    }
                }
            });
        }

        // --- Section 3: Chapiteaux CTS & M√©t√©o Logic ---
        function updateWeatherStatus() {
            const maxWind = parseInt(document.getElementById('maxWindInput').value);
            const currentWind = state.currentWindSpeed;
            
            const weatherStatus = document.getElementById('weatherStatus');
            const weatherIcon = document.getElementById('weatherIcon');
            const weatherTitle = document.getElementById('weatherTitle');
            const weatherDesc = document.getElementById('weatherDesc');
            
            // D√©terminer le statut bas√© sur les seuils
            let status, icon, title, desc, bgColor, borderColor, textColor;
            
            if (currentWind < 60) {
                // Tout va bien
                status = 'normal';
                icon = '‚úÖ';
                title = 'Situation Normale';
                desc = 'Exploitation autoris√©e. Continuez la veille m√©t√©orologique.';
                bgColor = 'bg-green-100';
                borderColor = 'border-green-200';
                textColor = 'text-green-800';
            } else if (currentWind < maxWind * 0.8) {
                // Vigilance
                status = 'warning';
                icon = '‚ö†Ô∏è';
                title = 'Vigilance Renforc√©e';
                desc = 'Surveillance continue recommand√©e. V√©rifiez les ancrages.';
                bgColor = 'bg-yellow-100';
                borderColor = 'border-yellow-200';
                textColor = 'text-yellow-800';
            } else if (currentWind < maxWind) {
                // Alerte
                status = 'alert';
                icon = 'üö®';
                title = 'Pr√©alerte Vent';
                desc = '√âvacuation pr√©ventive recommand√©e. Renforcez les v√©rifications.';
                bgColor = 'bg-orange-100';
                borderColor = 'border-orange-200';
                textColor = 'text-orange-800';
            } else {
                // Danger
                status = 'danger';
                icon = '‚õî';
                title = 'DANGER - Vent sup√©rieur √† l\'homologation';
                desc = '√âvacuation IMM√âDIATE obligatoire. Fermeture du site.';
                bgColor = 'bg-red-100';
                borderColor = 'border-red-200';
                textColor = 'text-red-800';
            }
            
            // Mettre √† jour l'interface
            weatherIcon.textContent = icon;
            weatherTitle.textContent = title;
            weatherDesc.textContent = desc;
            
            // Mettre √† jour les classes
            weatherStatus.className = `${bgColor} ${borderColor} p-4 rounded-lg flex items-start gap-3 transition-colors duration-300`;
            weatherTitle.className = `font-bold ${textColor}`;
            weatherDesc.className = `text-sm ${textColor.replace('800', '700')}`;
        }

        function initWindChart() {
            const ctx = document.getElementById('windChart').getContext('2d');
            
            // Donn√©es pour l'√©chelle de Beaufort simplifi√©e
            const windRanges = [0, 20, 40, 60, 80, 100, 120, 140];
            const riskLevels = [0, 1, 2, 3, 4, 5, 6, 7]; // Niveaux de risque
            
            windChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['0-20', '20-40', '40-60', '60-80', '80-100', '100-120', '120-140'],
                    datasets: [{
                        label: 'Niveau de Risque',
                        data: riskLevels,
                        backgroundColor: [
                            '#10b981', // Vert - Calme
                            '#10b981', // Vert - L√©ger
                            '#fbbf24', // Jaune - Mod√©r√©
                            '#fbbf24', // Jaune - Frais
                            '#f97316', // Orange - Fort
                            '#dc2626', // Rouge - Tr√®s fort
                            '#991b1b'  // Rouge fonc√© - Temp√™te
                        ],
                        borderRadius: 4,
                        borderSkipped: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'Vitesse du vent (km/h) vs Risque',
                            font: { size: 14 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const ranges = ['Calme', 'L√©ger', 'Mod√©r√©', 'Frais', 'Fort', 'Tr√®s fort', 'Temp√™te'];
                                    return ranges[context.dataIndex] + ': ' + windRanges[context.dataIndex] + '-' + windRanges[context.dataIndex + 1] + ' km/h';
                                }
                            }
                        }
                    },
                    scales: {
                        y: { 
                            display: true,
                            title: { display: true, text: 'Niveau de Risque' },
                            beginAtZero: true,
                            max: 7
                        },
                        x: { 
                            title: { display: true, text: 'Plage de vitesse (km/h)' },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        function updateWindChart() {
            // Met √† jour le graphique avec la vitesse actuelle
            if (windChartInstance) {
                // Pour l'instant, on garde le graphique statique
                // On pourrait ajouter un marqueur pour la vitesse actuelle
                windChartInstance.update();
            }
        }

        // --- Section 4: Materials Logic ---
        function highlightMaterial(index) {
            // Reset styles
            document.querySelectorAll('.material-card').forEach(el => {
                el.classList.remove('ring-2', 'ring-emerald-500', 'bg-emerald-50');
                el.classList.add('bg-white');
            });

            // Highlight selected
            const ids = ['m0-card', 'm1-card', 'm2-card', 'm4-card'];
            const selected = document.getElementById(ids[index]);
            selected.classList.remove('bg-white');
            selected.classList.add('bg-stone-50', 'ring-2', 'ring-slate-400');

            // Update Chart Highlight
            const colors = ['#a8a29e', '#10b981', '#f97316', '#ef4444'];
            const bgColors = colors.map((c, i) => i === index ? c : c + '40'); // Dim others
            
            materialsChartInstance.data.datasets[0].backgroundColor = bgColors;
            materialsChartInstance.update();
        }

        function initMaterialsChart() {
            const ctx = document.getElementById('materialsChart').getContext('2d');
            materialsChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['M0 (Structure)', 'M1 (D√©cors)', 'M2 (Mobilier)', 'M3/M4 (Interdit)'],
                    datasets: [{
                        data: [20, 50, 20, 10], // Representative proportions for visual
                        backgroundColor: ['#a8a29e', '#10b981', '#f97316', '#ef4444'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { usePointStyle: true, font: { size: 10 } } },
                        title: { display: true, text: 'R√©partition de S√©curit√© Id√©ale' }
                    },
                    cutout: '60%'
                }
            });
        }

    </script>
</body>
</html>
